var redirects=[],bulk_add=!1;$("#add_redirect").click(function(e){e.preventDefault();var t=!0,r=$("#url_from").val(),d=$("#url_to").val(),l=$("#redirect_type").val();if($('input[type="text"], textarea.urls').each(function(){0==$.trim($(this).val()).length?($(this).addClass("error"),t=!1,console.log("Form Invalid")):($(this).removeClass("error"),console.log("Form Valid"))}),t){if(bulk_add){var c=$("#multiple_url_from").val().split("\n"),a=$("#multiple_url_to").val().split("\n");$.each(c,function(e,t){$("#redirect_table").append("<tr><td>"+c[e]+"</td><td>"+a[e]+"</td><td>"+l+"</td></tr>"),redirects.push({redirect_from:c[e],redirect_to:a[e],type:l})})}else $("#redirect_table").append("<tr><td>"+r+"</td><td>"+d+"</td><td>"+l+"</td></tr>"),redirects.push({redirect_from:r,redirect_to:d,type:l});$('input[type="text"], textarea.urls').each(function(){$(this).val("")})}}),$("#bulk_add_urls").click(function(e){e.preventDefault();var t=$('<textarea class="urls" id="multiple_url_from" placeholder="URLs To Redirect From"></textarea>'),r=$('<textarea class="urls" id="multiple_url_to" placeholder="URLs To Redirect To"></textarea>'),d=$('<input type="text" id="url_from" placeholder="Redirect From URL" />'),l=$('<input type="text" id="url_to" placeholder="Redirect To URL" />');bulk_add?($("#multiple_url_from").replaceWith(d),$("#multiple_url_to").replaceWith(l),$(this).html("Bulk Add URLs"),$("#add_redirect").html("Add Redirect"),bulk_add=!1):($("#url_from").replaceWith(t),$("#url_to").replaceWith(r),$(this).html("Add Single URLs"),$("#add_redirect").html("Add Redirects"),bulk_add=!0)}),$("#import_csv").click(function(e){e.preventDefault(),$("#modal_csv").fadeIn(250)}),$("#parse_csv").click(function(e){e.preventDefault();var t=$("#redirect_type").val(),r=$("#csv_code").val().split("\n");$.each(r,function(e,d){var l=r[e].split(",");$("#redirect_table").append("<tr><td>"+l[0]+"</td><td>"+l[1]+"</td><td>"+t+"</td></tr>"),redirects.push({redirect_from:l[0],redirect_to:l[1],type:t})}),$(".modal").fadeOut(250)}),$("#export_htaccess").click(function(e){e.preventDefault(),$("#htaccess_code").html(""),$.each(redirects,function(e,t){$("#htaccess_code").append("Redirect "+redirects[e].type+" "+redirects[e].redirect_from+" "+redirects[e].redirect_to+"\r\n")}),$("#modal_htaccess").fadeIn(250)}),$(".close-modal").click(function(e){e.preventDefault(),$(".modal").fadeOut(250)});