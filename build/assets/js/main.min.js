var redirects=[],bulk_add=!1;$("#add_redirect").click(function(e){e.preventDefault();var t=!0,r=$("#url_from").val(),l=$("#url_to").val(),d=$("#redirect_type").val();if($('input[type="text"], textarea.urls').each(function(){0==$.trim($(this).val()).length?($(this).addClass("error"),t=!1,console.log("Form Invalid")):($(this).removeClass("error"),console.log("Form Valid"))}),t){if(bulk_add){var i=$("#multiple_url_from").val().split("\n"),c=$("#multiple_url_to").val().split("\n");$.each(i,function(e,t){$("#redirect_table").append("<tr><td>"+i[e]+"</td><td>"+c[e]+"</td><td>"+d+"</td></tr>"),redirects.push({redirect_from:i[e],redirect_to:c[e],type:d})})}else $("#redirect_table").append("<tr><td>"+r+"</td><td>"+l+"</td><td>"+d+"</td></tr>"),redirects.push({redirect_from:r,redirect_to:l,type:d});$('input[type="text"], textarea.urls').each(function(){$(this).val("")})}}),$("#bulk_add_urls").click(function(e){e.preventDefault();var t=$('<textarea class="urls" id="multiple_url_from" placeholder="URLs To Redirect From"></textarea>'),r=$('<textarea class="urls" id="multiple_url_to" placeholder="URLs To Redirect To"></textarea>'),l=$('<input type="text" id="url_from" placeholder="Redirect From URL" />'),d=$('<input type="text" id="url_to" placeholder="Redirect To URL" />');bulk_add?($("#multiple_url_from").replaceWith(l),$("#multiple_url_to").replaceWith(d),$(this).html("Bulk Add URLs"),$("#add_redirect").html("Add Redirect"),bulk_add=!1):($("#url_from").replaceWith(t),$("#url_to").replaceWith(r),$(this).html("Add Single URLs"),$("#add_redirect").html("Add Redirects"),bulk_add=!0)}),$("#export_htaccess").click(function(e){e.preventDefault(),console.log(redirects),$("#htaccess_code").html(""),$.each(redirects,function(e,t){$("#htaccess_code").append("Redirect "+redirects[e].type+" "+redirects[e].redirect_from+" "+redirects[e].redirect_to+"\r\n")}),$(".modal").fadeIn(250)}),$("#close_modal").click(function(e){e.preventDefault(),$(".modal").fadeOut(250)});